<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EcoVisionary</title>
    <link
      rel="shortcut icon"
      href="../Public/Images/xml.png"
      type="image/svg+xml"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
  />
    <link
      rel="shortcut icon"
      href="../Public/Images/xml.png"
      type="image/svg+xml"
    />
    <link rel="stylesheet" href="/public/login.css" />
  </head>
  <body>
    <!-- NAVBAR -->
    <header class="navbar navbar-expand-md navbar-light bg-light d-flex align-items-center justify-content-between py-3" id="navBar">
      <div class="d-flex align-items-center col-6 col-md-3 mb-2 mb-md-0 ms-5">
        <a href="/" class="d-inline-flex link-body-emphasis text-decoration-none">
          <img src="../Public/Images/Screenshot_2025-01-23_010224-removebg-preview.png" alt="" width="100" height="auto" />
        </a>
      </div>
    
      <div class="d-flex align-items-center d-md-none me-3">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <i class="fa-solid fa-bars"></i>
        </button>
        <button type="button" class="btn-darkmode-toggle ms-2" id="darkModeToggle" onclick="toggleDarkMode()">
          <i class="bx bx-moon"></i>
        </button>
        <a href="#" onclick="window.location.href='/cart'">
          <img src="../Public/Images/cart.png" alt="" width="45px" style="margin-bottom: 5px; margin-left: 5px" />
        </a>
      </div>
    
      <div class="collapse navbar-collapse ms-5" id="navbarNav">
        <ul class="nav flex-column flex-md-row justify-content-center" id="nav-links">
          <li class="nav-item">
            <a href="#" class="nav-link nav-link-custom px-2 active" id="navBarList" onclick="window.location.href='/home'">Home</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link nav-link-custom px-2" id="navBarList" onclick="window.location.href='/about'">About Us</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link nav-link-custom px-2" id="navBarList" onclick="window.location.href='/products'">Products</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link nav-link-custom px-2" id="navBarList" onclick="window.location.href='/services'">Services</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link nav-link-custom px-2" id="navBarList" onclick="window.location.href='/support'">Support Center</a>
          </li>
          <li class="nav-item d-md-none-except-user-icon">
            <a href="#" class="nav-link nav-link-custom px-2" id="navBarList" onclick="redirectToDashboard()">
              <img src="../Public/Images/user-icon.png" alt="" width="30px" style="margin-bottom: 5px; margin-left: 5px" />
            </a>
          </li>
        </ul>
      </div>
    
      <div class="d-none d-md-flex align-items-center me-5">
        <button type="button" class="btn-darkmode-toggle" id="darkModeToggle" onclick="toggleDarkMode()">
          <i class="bx bx-moon"></i>
        </button>
        <a href="#" onclick="window.location.href='/cart'">
          <img src="../Public/Images/cart.png" alt="" width="45px" style="margin-bottom: 5px; margin-left: 5px" />
        </a>
        <a href="#" onclick="redirectToDashboard()">
          <img src="../Public/Images/user-icon.png" alt="" width="30px" style="margin-bottom: 5px; margin-left: 5px" class="d-md-none-user" />
        </a>
      </div>
    </header>
    

    <div class="container my-5">
      <h1 class="heading" style="color: rgb(124, 124, 124);">Login</h1>
      <form id="loginForm" class="form-container">
        <input type="text" name="username" id="loginUsername" placeholder="Enter your Username" class="input-field" required>
        <input type="password" name="password" id="loginPassword" placeholder="Password" class="input-field" required>
        <p style="color: rgb(41, 40, 40)">
          <a href="#">Forgot Password?</a>
        </p>
        <p style="color: rgb(41, 40, 40)">
          Create an account?
          <a href="#" onclick="window.location.href='/signup'">Signup</a>
        </p>
        <div class="btn">
          <input type="submit" class="retro-button" value="Confirm">
        </div>
      </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
      AOS.init();

      const toggleDarkMode = () => {
        const body = document.body;
        body.classList.toggle("dark-mode");
        const toggleButton = document.getElementById("darkModeToggle");
        if (body.classList.contains("dark-mode")) {
          toggleButton.innerHTML = "<i class='bx bx-sun'></i>";
          localStorage.setItem("theme", "dark");
        } else {
          toggleButton.innerHTML = "<i class='bx bx-moon'></i>";
          localStorage.setItem("theme", "light");
        }
      };

      window.onload = () => {
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme === "dark") {
          document.body.classList.add("dark-mode");
          document.getElementById("darkModeToggle").innerHTML =
            "<i class='bx bx-sun'></i>";
        }
      };

      document.getElementById('loginForm').addEventListener('submit', function(event) {
  event.preventDefault();
  const username = document.getElementById('loginUsername').value;
  const password = document.getElementById('loginPassword').value;

  const storedUser = sessionStorage.getItem('user_' + username);

  if (storedUser) {
    const user = JSON.parse(storedUser);
    if (user.password === password) {
      alert('Login successful!');
      sessionStorage.setItem('currentUser', username); // Store current user in session storage
      window.location.href = '/dashboard'; // Redirect to dashboard after login
    } else {
      alert('Incorrect password.');
    }
  } else {
    alert('User not found.');
  }
});
    </script>
  </body>
</html>
