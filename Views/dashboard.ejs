<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EcoVisionary</title>
    <link
      rel="shortcut icon"
      href="../Public/Images/xml.png"
      type="image/svg+xml"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="shortcut icon"
      href="../Public/Images/xml.png"
      type="image/svg+xml"
    />
    <link rel="stylesheet" href="/Public/dashboard.css" />
  </head>
  <body onload="displayUsername()">
    <!-- NAVBAR -->
    <header
      class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3"
      id="navBar"
    >
      <div class="col-md-3 mb-2 mb-md-0 ms-5">
        <a
          href="/"
          class="d-inline-flex link-body-emphasis text-decoration-none"
        >
          <img
            src="../Public/Images/Screenshot_2025-01-23_010224-removebg-preview.png"
            alt=""
            width="100"
            height="auto"
          />
        </a>
      </div>

      <ul
        class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0 gap-3"
        id="nav-links"
      >
        <li>
          <a
            href="#"
            class="nav-link px-2 active"
            id="navBarList"
            onclick="window.location.href='/'"
            >Home</a
          >
        </li>
        <li>
          <a
            href="#"
            class="nav-link px-2"
            id="navBarList"
            onclick="window.location.href='/about'"
            >About Us</a
          >
        </li>
        <li>
          <a
            href="#"
            class="nav-link px-2"
            id="navBarList"
            onclick="window.location.href='/products'"
            >Products</a
          >
        </li>
        <li>
          <a
            href="#"
            class="nav-link px-2"
            id="navBarList"
            onclick="window.location.href='/services'"
            >Services</a
          >
        </li>
        <li>
          <a
            href="#"
            class="nav-link px-2"
            id="navBarList"
            onclick="window.location.href='/support'"
            >Support Center</a
          >
        </li>
      </ul>

      <div class="buttons col-md-3 text-end me-5">
        <button
          type="button"
          class="btn-darkmode-toggle"
          id="darkModeToggle"
          onclick="toggleDarkMode()"
        >
          <i class="bx bx-moon"></i>
        </button>
        <a href="#" onclick="window.location.href='/cart'"
          ><img
            src="../Public/Images/cart.png"
            alt=""
            width="45px"
            style="margin-bottom: 5px; margin-left: 5px"
        /></a>
        <a href="#" onclick="redirectToDashboard()"
          ><img
            src="../Public/Images/user-icon.png"
            alt=""
            width="30px"
            style="margin-bottom: 5px; margin-left: 5px"
        /></a>
      </div>
    </header>

    <div class="container mt-4">
        <!-- Header with welcome message and logout -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="m-0">Hello, <span id="usernameDisplay">User</span></h2>
          <button class="btn btn-danger" onclick="logout()">Logout</button>
        </div>
    
        <!-- Dashboard cards -->
        <div class="row g-4">
          <!-- Profile Management Card -->
          <div class="col-md-4">
            <div class="card h-100">
              <div class="card-body">
                <h5 class="card-title">Manage Profile</h5>
                <p class="card-text">Update your personal information, change password, and manage account settings.</p>
                <a href="#" class="btn btn-primary">Go to Profile</a>
              </div>
            </div>
          </div>
    
          <!-- Order Tracking Card -->
          <div class="col-md-4">
            <div class="card h-100">
              <div class="card-body">
                <h5 class="card-title">Track Orders</h5>
                <p class="card-text">View and track your current orders, check order history and status.</p>
                <a href="#" class="btn btn-primary">View Orders</a>
              </div>
            </div>
          </div>
    
          <!-- Recent Activity Card -->
          <div class="col-md-4">
            <div class="card h-100">
              <div class="card-body">
                <h5 class="card-title">Recent Activity</h5>
                <p class="card-text">Check your recent account activity and notifications.</p>
                <a href="#" class="btn btn-primary">View Activity</a>
              </div>
            </div>
          </div>
        </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
      AOS.init();

      const toggleDarkMode = () => {
        const body = document.body;
        body.classList.toggle("dark-mode");
        const toggleButton = document.getElementById("darkModeToggle");
        if (body.classList.contains("dark-mode")) {
          toggleButton.innerHTML = "<i class='bx bx-sun'></i>";
          localStorage.setItem("theme", "dark");
        } else {
          toggleButton.innerHTML = "<i class='bx bx-moon'></i>";
          localStorage.setItem("theme", "light");
        }
      };

      window.onload = () => {
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme === "dark") {
          document.body.classList.add("dark-mode");
          document.getElementById("darkModeToggle").innerHTML =
            "<i class='bx bx-sun'></i>";
        }
      };

      function logout() {
  sessionStorage.removeItem('currentUser');
  alert('Logged out successfully.');
  window.location.href = '/login';
}

function displayUsername() {
  const currentUser = sessionStorage.getItem('currentUser');
  if (currentUser) {
    document.getElementById('usernameDisplay').textContent = currentUser;
  } else {
    window.location.href = '/login'; // Redirect to login if not logged in
  }
}

function redirectToDashboard() {
  const currentUser = sessionStorage.getItem('currentUser');
  if (currentUser) {
    window.location.href = '/dashboard';
  } else {
    window.location.href = '/login';
  }
}
      </script>
</body>
</html>